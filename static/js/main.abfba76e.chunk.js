(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{22:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),s=n(15),i=n.n(s),r=n(6),j=(n(22),n(31)),l=n(27),d=n(28),o=n(33);function h(e){var t=e.setTitle,n=e.setPage;return Object(a.jsx)("div",{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(o.a.Header,{children:Object(a.jsx)("h5",{children:"Movie Title"})}),Object(a.jsx)(o.a.Body,{children:Object(a.jsx)("input",{onChange:function(e){t(e.target.value),n(1)},type:"text",id:"textInput",placeholder:"Please search with 3+ characters...",className:"w-100 p-3",style:{width:"100%"}})})]})})}var b=n(16),u=n(34),O=n(32),x=n(29),m=n(30);function f(e){var t=e.page,n=e.setPage,c=e.data,s=[];s.push(Object(a.jsx)(u.a.First,{disabled:1===t,onClick:function(){return n(1)}},"first")),s.push(Object(a.jsx)(u.a.Prev,{disabled:1===t,onClick:function(){return n(t-1)}},"previous"));var i=Math.max(t-2,1),r=Math.ceil(c.totalResults/10),j=Math.min(r,i+4);i>=2&&j-t===1?i-=1:i>=3&&j-t===0&&(i-=2);for(var l=function(e){s.push(Object(a.jsx)(u.a.Item,{className:"text-secondary",onClick:function(){return n(e)},active:e===t,children:e},e))},d=i;d<=j;d++)l(d);return s.push(Object(a.jsx)(u.a.Next,{disabled:t===r,onClick:function(){return n(t+1)}},"next")),s.push(Object(a.jsx)(u.a.Last,{disabled:t===r,onClick:function(){return n(r)}},"last")),Object(a.jsx)(u.a,{children:s})}function p(e){var t=e.data,n=e.nominated,c=e.setNominated;return Object(a.jsx)(O.a,{variant:"flush",children:t.Search.map((function(e){return Object(a.jsx)(O.a.Item,{children:Object(a.jsxs)(l.a,{className:"align-items-center",children:[Object(a.jsx)(d.a,{sm:"auto",style:{width:"auto"},children:Object(a.jsx)(x.a,{onClick:function(){n.list.length<5&&c({list:[].concat(Object(b.a)(n.list),[e])})},disabled:n.list.find((function(t){return t.imdbID===e.imdbID}))||n.list.length>=5,variant:"secondary",size:"sm",name:"nominate",value:e,children:"Nominate"})}),Object(a.jsx)(d.a,{sm:"auto",style:{width:"auto"},children:Object(a.jsx)(m.a,{src:e.Poster,alt:"",style:{height:"40px",width:"27px"},rounded:!0})}),Object(a.jsxs)(d.a,{children:[e.Title," (",e.Year,")"]})]})},e.imdbID)}))})}function g(e){var t=e.title,n=e.page,s=e.setNominated,i=e.nominated,j=e.setPage,d=Object(c.useState)(null),h=Object(r.a)(d,2),b=h[0],u=h[1],O=Object(c.useState)(!1),x=Object(r.a)(O,2),m=x[0],g=x[1],v=Object(c.useState)(null),y=Object(r.a)(v,2),N=y[0],w=y[1];return Object(c.useEffect)((function(){t&&t.length>=3&&(g(!0),fetch("https://www.omdbapi.com/?s=".concat(t,"&apikey=b29472dd&type=movie&page=").concat(n)).then((function(e){return e.json()})).then(u).then((function(){return g(!1)})).catch(w))}),[n,t]),t.length<3?Object(a.jsx)(o.a.Header,{children:Object(a.jsx)("h5",{children:"Results"})}):m?Object(a.jsx)(o.a.Header,{children:Object(a.jsx)("h5",{children:"Loading..."})}):N?(console.log(JSON.stringify(N,null,2)),Object(a.jsx)(o.a.Header,{children:Object(a.jsx)("h5",{children:"Error! Please contact saahil.jaffer@uwaterloo.ca"})})):b?"False"===b.Response?Object(a.jsx)(o.a.Header,{children:Object(a.jsxs)("h5",{children:['No results for "',t,'"']})}):Object(a.jsxs)("div",{children:[Object(a.jsx)(o.a.Header,{children:Object(a.jsxs)(o.a.Title,{children:['Results for "',t,'"']})}),Object(a.jsx)(o.a.Body,{style:{padding:"0"},children:Object(a.jsx)(p,{data:b,nominated:i,setNominated:s})}),Object(a.jsx)(o.a.Footer,{children:Object(a.jsx)(l.a,{className:"justify-content-center",children:Object(a.jsx)(f,{page:n,setPage:j,data:b})})})]}):null}function v(e){var t=e.nominated,n=e.setNominated;return Object(a.jsx)(O.a,{variant:"flush",children:t.list.map((function(e){return Object(a.jsx)(O.a.Item,{children:Object(a.jsxs)(l.a,{className:"align-items-center",children:[Object(a.jsx)(d.a,{sm:"auto",style:{width:"auto"},children:Object(a.jsx)(x.a,{onClick:function(){return n({list:t.list.filter((function(t){return t.imdbID!==e.imdbID}))})},variant:"secondary",size:"sm",name:"remove",value:e.imdbID,children:"Remove"})}),Object(a.jsx)(d.a,{sm:"auto",style:{width:"auto"},children:Object(a.jsx)(m.a,{src:e.Poster,alt:"",style:{height:"40px",width:"27px"},rounded:!0})}),Object(a.jsxs)(d.a,{children:[e.Title," (",e.Year,")"]})]})},e.imdbID)}))})}function y(e){var t=e.nominated,n=e.setNominated;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(o.a.Header,{children:Object(a.jsx)("h5",{children:"Nominations"})}),Object(a.jsx)(o.a.Body,{style:{minHeight:"0",padding:"0"},children:Object(a.jsx)(v,{nominated:t,setNominated:n})})]})})}var N=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(1),b=Object(r.a)(i,2),u=b[0],O=b[1],x=JSON.parse(localStorage.getItem("nominated")),m=Object(c.useState)(x||{list:[]}),f=Object(r.a)(m,2),p=f[0],v=f[1];return Object(c.useEffect)((function(){localStorage.setItem("nominated",JSON.stringify(p))}),[p]),document.body.style="background: #E9E9EC;",Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(j.a,{children:[Object(a.jsx)(l.a,{children:Object(a.jsxs)(d.a,{className:"py-3",children:[Object(a.jsx)("h2",{children:"The Shoppies"}),Object(a.jsx)(h,{setTitle:s,setPage:O})]})}),Object(a.jsxs)(l.a,{children:[Object(a.jsx)(d.a,{className:"py-3",children:Object(a.jsx)(o.a,{className:"w-100",children:Object(a.jsx)(g,{title:n,page:u,setPage:O,setNominated:v,nominated:p})})}),Object(a.jsx)("div",{className:"d-md-none w-100"}),Object(a.jsx)(d.a,{className:"py-3",children:Object(a.jsx)(y,{nominated:p,setNominated:v})})]})]})})};n(25);i.a.render(Object(a.jsx)(N,{}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.abfba76e.chunk.js.map