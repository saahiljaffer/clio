{"version":3,"sources":["App.js","index.js"],"names":["Search","setTitle","setPage","Card","Header","Body","onChange","event","target","value","type","id","placeholder","className","style","width","Results","title","page","setNominated","nominated","useState","data","setData","loading","setLoading","error","setError","useEffect","length","fetch","then","response","json","catch","console","log","JSON","stringify","Response","items","push","Pagination","First","disabled","onClick","Prev","firstPage","Math","max","maxPage","ceil","totalResults","lastPage","min","number","Item","active","Next","Last","Title","padding","ListGroup","variant","map","Row","Col","sm","Button","list","includes","size","name","Image","src","Poster","height","rounded","Year","imdbID","Footer","Nominated","minHeight","movie","filter","e","paddingRight","App","saved","parse","localStorage","getItem","setItem","document","body","Container","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d116da70.chunk.js","sourcesContent":["import \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport {\n  Container,\n  Col,\n  Row,\n  ListGroup,\n  Card,\n  Pagination,\n  Image,\n} from \"react-bootstrap\";\n\nfunction Search({ setTitle, setPage }) {\n  const onChange = (event) => {\n    setTitle(event.target.value);\n    setPage(1);\n  };\n\n  return (\n    <div>\n      <Card>\n        <Card.Header>\n          <h5>Movie Title</h5>\n        </Card.Header>\n        <Card.Body>\n          <input\n            onChange={onChange}\n            type=\"text\"\n            id=\"textInput\"\n            placeholder=\"Please search with 3+ characters...\"\n            className=\"w-100 p-3\"\n            style={{ width: \"100%\" }}\n          />\n        </Card.Body>\n      </Card>\n    </div>\n  );\n}\n\nfunction Results({ title, page, setNominated, nominated, setPage }) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!title) return;\n    if (title.length >= 3) {\n      setLoading(true);\n      fetch(\n        `https://www.omdbapi.com/?s=${title}&apikey=b29472dd&type=movie&page=${page}`\n      )\n        .then((response) => response.json())\n        .then(setData)\n        .then(() => setLoading(false))\n        .catch(setError);\n    }\n  }, [page, title]);\n\n  console.log(data);\n\n  if (title.length < 3)\n    return (\n      <Card.Header>\n        <h5>Results</h5>\n      </Card.Header>\n    );\n\n  if (loading)\n    return (\n      <Card.Header>\n        <h5>Loading...</h5>\n      </Card.Header>\n    );\n\n  if (error) return <pre>{JSON.stringify(error, null, 2)}</pre>;\n\n  if (!data) return null;\n\n  if (data.Response === \"False\")\n    return (\n      <Card.Header>\n        <h5>No results for \"{title}\"</h5>\n      </Card.Header>\n    );\n\n  let items = [];\n\n  items.push(\n    <Pagination.First\n      key=\"first\"\n      disabled={page === 1}\n      onClick={() => setPage(1)}\n    />\n  );\n  items.push(\n    <Pagination.Prev\n      key=\"previous\"\n      disabled={page === 1}\n      onClick={() => setPage(page - 1)}\n    />\n  );\n\n  var firstPage = Math.max(page - 2, 1);\n  var maxPage = Math.ceil(data.totalResults / 10);\n  var lastPage = Math.min(maxPage, firstPage + 4);\n\n  if (firstPage >= 2 && lastPage - page === 1) {\n    firstPage -= 1;\n  } else if (firstPage >= 3 && lastPage - page === 0) {\n    firstPage -= 2;\n  }\n\n  for (let number = firstPage; number <= lastPage; number++) {\n    items.push(\n      <Pagination.Item\n        className=\"text-secondary\"\n        onClick={() => setPage(number)}\n        key={number}\n        active={number === page}\n      >\n        {number}\n      </Pagination.Item>\n    );\n  }\n\n  items.push(\n    <Pagination.Next\n      key=\"next\"\n      disabled={page === maxPage}\n      onClick={() => setPage(page + 1)}\n    />\n  );\n  items.push(\n    <Pagination.Last\n      key=\"last\"\n      disabled={page === maxPage}\n      onClick={() => setPage(maxPage)}\n    />\n  );\n\n  return (\n    <div>\n      <Card.Header>\n        <Card.Title>Results for \"{title}\"</Card.Title>\n      </Card.Header>\n      <Card.Body style={{ padding: \"0\" }}>\n        <ListGroup variant=\"flush\">\n          {data.Search.map((data) => (\n            <ListGroup.Item key={data.imdbID}>\n              <Row className=\"align-items-center\">\n                <Col sm=\"auto\" style={{ width: \"auto\" }}>\n                  <Button\n                    onClick={() => {\n                      if (nominated.list.length < 5) {\n                        setNominated({ list: [...nominated.list, data] });\n                      }\n                    }}\n                    disabled={\n                      nominated.list.includes(data) ||\n                      nominated.list.length >= 5\n                    }\n                    variant=\"secondary\"\n                    size=\"sm\"\n                    name=\"nominate\"\n                    value={data}\n                  >\n                    Nominate\n                  </Button>\n                </Col>\n                <Col sm=\"auto\" style={{ width: \"auto\" }}>\n                  <Image\n                    src={data.Poster}\n                    style={{ height: \"40px\", width: \"27px\" }}\n                    rounded\n                  />\n                </Col>\n                <Col>\n                  {data.Title} ({data.Year})\n                </Col>\n              </Row>\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n      </Card.Body>\n\n      <Card.Footer>\n        <Row className=\"justify-content-center\">\n          <Pagination>{items}</Pagination>\n          {/* <Col style={{ textAlign: \"center\" }}>\n            <Button\n              style={{ textAlign: \"center\" }}\n              size=\"sm\"\n              variant=\"secondary\"\n              disabled={page >= data.totalResults / 10}\n              onClick={() => setPage(page + 1)}\n            >\n              Next Page\n            </Button>\n                  </Col> */}\n        </Row>\n      </Card.Footer>\n    </div>\n  );\n}\n\nfunction Nominated({ nominated, setNominated }) {\n  return (\n    <>\n      <Card>\n        <Card.Header>\n          <h5>Nominations</h5>\n        </Card.Header>\n        <Card.Body style={{ minHeight: \"0\", padding: \"0\" }}>\n          <ListGroup variant=\"flush\">\n            {nominated.list.map((movie) => (\n              <ListGroup.Item key={movie.imdbID}>\n                <Row className=\"align-items-center\">\n                  <Col sm=\"auto\" style={{ width: \"auto\" }}>\n                    <Button\n                      onClick={() =>\n                        setNominated({\n                          list: nominated.list.filter((e) => e !== movie),\n                        })\n                      }\n                      variant=\"secondary\"\n                      size=\"sm\"\n                      name=\"remove\"\n                      value={movie.imdbID}\n                    >\n                      Remove\n                    </Button>\n                  </Col>\n                  <Col>\n                    <Image\n                      src={movie.Poster}\n                      style={{ height: \"40px\", paddingRight: \"10px\" }}\n                      rounded\n                    />\n                    {movie.Title} ({movie.Year})\n                  </Col>\n                </Row>\n              </ListGroup.Item>\n            ))}\n          </ListGroup>\n        </Card.Body>\n      </Card>\n    </>\n  );\n}\n\nfunction App() {\n  const [title, setTitle] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const saved = JSON.parse(localStorage.getItem(\"nominated\"));\n  const [nominated, setNominated] = useState(saved || { list: [] });\n\n  useEffect(() => {\n    localStorage.setItem(\"nominated\", JSON.stringify(nominated));\n  }, [nominated]);\n\n  document.body.style = \"background: #E9E9EC;\";\n\n  return (\n    <>\n      <Container>\n        <Row>\n          <Col className=\"py-3\">\n            <h2>The Shoppies</h2>\n            <Search setTitle={setTitle} setPage={setPage} />\n          </Col>\n        </Row>\n        <Row>\n          {/* <CardGroup className=\"w-100\"> */}\n          <Col className=\"py-3\">\n            <Card className=\"w-100\">\n              {/* TODO: think about using cards */}\n              <Results\n                title={title}\n                page={page}\n                setPage={setPage}\n                setNominated={setNominated}\n                nominated={nominated}\n              />\n            </Card>\n          </Col>\n          <div className=\"d-md-none w-100\"></div>\n          <Col className=\"py-3\">\n            <Nominated nominated={nominated} setNominated={setNominated} />\n          </Col>\n          {/* </CardGroup> */}\n        </Row>\n      </Container>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}